<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

  <package name="accounts" extends="default" namespace="/accounts">

    <!-- 修改密码 -->
    <action name="ManageAccount" class="ManageAccountAction" method="input">
      <result name="input">/includes/accounts/ManageAccount.jsp</result>
    </action>
    <action name="showMyInfo" class="MyInfoAction" method="input">
      <result>/includes/accounts/MyInfo.jsp</result>
    </action>
    <action name="showMyBasicInfo" class="MyInfoAction" method="input">
      <result>/includes/accounts/ShowMyInfo.jsp</result>
    </action>
    <action name="submitMyInfo" class="MyInfoAction" method="submit">
      <result name="input" type="chain">showMyInfo</result>
      <result type="chain">showMyPage</result>
    </action>
    <action name="ModifyPasswordMyInfo" class="MyInfoAction">
      <result>/includes/accounts/ModifyPasswordMyInfo.jsp</result>
    </action>
    <action name="ModifyPasswordSubmitMyInfo" class="MyInfoAction" method="modifyPassword">
      <result name="error" type="chain">showMyPage</result>
      <result name="input" type="chain">ModifyPasswordMyInfo</result>
      <result type="chain">showMyPage</result>
    </action>
    <action name="showRetrieveMember" class="RetrieveMemberAction" method="input">
      <result name="input">/includes/accounts/RetrieveMember.jsp</result>
    </action>
    <action name="submitRetrieveMember" class="RetrieveMemberAction" method="submit">
      <result type="chain">showLogin</result>
    </action>

    <!-- 客户服务 -->
    <action name="CustomerServiceAction" class="CustomerServiceAction">
      <result>/includes/accounts/CustomerService.jsp</result>
    </action>
    <action name="FeqCustomerServiceAction" class="CustomerServiceAction" method="frequentAQ">
      <result>/includes/accounts/CustomerService.jsp</result>
    </action>
    <action name="NewPeopleCustomerServiceAction" class="CustomerServiceAction" method="newPeople">
      <result>/includes/accounts/CustomerService.jsp</result>
    </action>
    <action name="AnswerCustomerServiceAction" class="CustomerServiceAction" method="answerOnline">
      <result>/includes/accounts/CustomerService.jsp</result>
    </action>

    <!-- Booking -->
    <action name="showMyBooking" class="MyBookingAction" method="input">
      <result>/includes/booking/MyBooking.jsp</result>
    </action>
    <action name="showBookingDetail" class="BookingDetailAction" method="input">
      <result>/includes/accounts/BookingDetail.jsp</result>
    </action>
    <action name="BookSearch" class="BookSearchAction" method="input">
      <result name="input">/includes/booking/BookingList.jsp</result>
    </action>
    <action name="BookSearchSubmit" class="BookSearchAction" method="submit">
      <result>/includes/booking/BookingList.jsp</result>
      <result name="input" type="chain">BookSearch</result>
    </action>
    <action name="showOrderBooking" class="OrderBookingAction" method="input">
      <result>/includes/booking/OrderBooking.jsp</result>
    </action>
    <action name="submitOrderBooking" class="OrderBookingAction">
      <result name="changePax">/includes/booking/OrderBooking.jsp</result>
      <result type="chain">showMyBooking</result>
    </action>
    <action name="OrderAgreement" class="com.opentravelsoft.action.booking.OrderAgreementAction">
      <result>/includes/booking/OrderAgreement.jsp</result>
    </action>
    <action name="searchOrder" class="SearchOrderAction" method="input">
      <result name="input">/includes/booking/SearchOrder.jsp</result>
    </action>
    <action name="searchOrderResult" class="SearchOrderAction">
      <result name="input" type="chain">searchOrder</result>
      <result>/includes/booking/SearchOrderResult.jsp</result>
    </action>

    <action name="showBookingDetail" class="BookingDetailAction" method="input">
      <result>/includes/booking/BookingDetail.jsp
      </result>
    </action>
    <action name="cancelBooking" class="BookDetailAction" method="cancel">
      <result name="input" type="chain">BookDetail</result>
      <result name="success" type="chain">BookSearch</result>
    </action>

    <!-- Payment -->
    <action name="ReceivePay" class="ReceivePayAction">
      <result>/includes/booking/BookingPayResult.jsp</result>
    </action>
    <action name="showPay" class="PayerOLAction" method="input">
      <result name="input">/includes/payment/PayOL.jsp</result>
      <result>/includes/payment/PayOL.jsp
      </result>
    </action>
    <action name="affirmPay" class="PayerOLAction" method="submit">
      <result name="success"> /includes/payment/Payment.jsp</result>
      <result name="input" type="chain">showPay</result>
    </action>
    <action name="showOrderDetail" class="OrderBookingAction" method="input">
      <result name="input">/includes/payment/Send.jsp</result>
    </action>
    <action name="sendChinabank" class="OrderBookingAction" method="submit">
      <result name="input" type="chain">showOrderDetail</result>
      <result>showOrderDetail</result>
    </action>
    
    <action name="BookGathering" class="BookGatheringAction" method="input">
      <result name="input">/includes/booking/BookGathering.jsp</result>
    </action>
    <action name="submitBookGathering" class="BookGatheringAction" method="submit">
      <result name="input" type="chain">BookGathering</result>
      <result type="chain">BookDetail</result>
    </action>
    <action name="showInvoice" class="InvoiceAction" method="input">
      <result name="input">/includes/booking/EditInvoice.jsp</result>
    </action>
    <action name="submitInvoice" class="InvoiceAction" method="submit">
      <result name="input" type="chain">showInvoice</result>
      <result type="chain">BookDetail</result>
    </action>

    <!-- Payment -->
    <action name="PaymentSearch" class="PaymentSearchAction" method="input">
      <result name="input">/includes/accounts/PaymentList.jsp</result>
    </action>
    <action name="PaymentSearchSubmit" class="PaymentSearchAction" method="submit">
      <result>/includes/accounts/PaymentList.jsp</result>
      <result name="input" type="chain">PaymentSearch</result>
    </action>
    <action name="PaymentDetail" class="PaymentSearchAction" method="paymentDetail">
      <result>/includes/accounts/Payment.jsp</result>
      <result name="input" type="chain">PaymentSearch</result>
    </action>

  </package>

</struts>